// =============================================================================
// PROGRESS WIDGET
// Styles for progress bars and circular progress
// =============================================================================

ax-progress-bar {
    display: block;

    .progress-container {
        position: relative;
    }

    // Linear progress bar
    .progress-track {
        width: 100%;
        height: 8px;
        background: $color-bg-tertiary;
        border-radius: $border-radius-pill;
        overflow: hidden;

        .progress-fill {
            height: 100%;
            background: $color-primary;
            border-radius: $border-radius-pill;
            transition: width $transition-normal ease;

            &.animated {
                background: linear-gradient(90deg, $color-primary 0%, tint($color-primary, 20%) 50%, $color-primary 100%);
                background-size: 200% 100%;
                animation: progressShine 1.5s infinite;
            }
        }
    }

    // Size variants
    &.size-sm .progress-track {
        height: 4px;
    }

    &.size-lg .progress-track {
        height: 12px;
    }

    // Status variants
    &.status-success .progress-fill {
        background: $color-success;
    }

    &.status-warning .progress-fill {
        background: $color-warning;
    }

    &.status-danger .progress-fill {
        background: $color-danger;
    }

    // Progress info
    .progress-info {
        display: flex;
        justify-content: space-between;
        margin-top: $spacing-2;
        font-size: $font-size-sm;

        .progress-label {
            color: $color-text-secondary;
        }

        .progress-value {
            font-weight: $font-weight-medium;
        }
    }

    // Striped variant
    &.striped .progress-fill {
        background-image: linear-gradient(
            45deg,
            rgba(255, 255, 255, 0.15) 25%,
            transparent 25%,
            transparent 50%,
            rgba(255, 255, 255, 0.15) 50%,
            rgba(255, 255, 255, 0.15) 75%,
            transparent 75%,
            transparent
        );
        background-size: 1rem 1rem;

        &.animated {
            animation: progressStripe 1s linear infinite;
        }
    }

    // Segmented progress
    .progress-segments {
        display: flex;
        gap: 2px;

        .progress-segment {
            flex: 1;
            height: 8px;
            background: $color-bg-tertiary;
            border-radius: $border-radius-sm;

            &.filled {
                background: $color-primary;
            }
        }
    }
}

// Circular progress
.circular-progress {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;

    svg {
        transform: rotate(-90deg);

        .progress-track-circle {
            fill: none;
            stroke: $color-bg-tertiary;
        }

        .progress-fill-circle {
            fill: none;
            stroke: $color-primary;
            stroke-linecap: round;
            transition: stroke-dashoffset $transition-normal ease;
        }
    }

    .progress-value {
        position: absolute;
        font-weight: $font-weight-bold;
    }
}

@keyframes progressShine {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
}

@keyframes progressStripe {
    0% {
        background-position: 1rem 0;
    }
    100% {
        background-position: 0 0;
    }
}
